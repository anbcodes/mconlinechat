import{S as e,i as t,s as a,l as s,f as l,u as r,w as o,x as i,d as n,H as c,A as f,r as d,P as h,J as x,e as u,t as y,k as m,c as g,a as $,g as p,n as b,b as v,Q as w,E as T,N as E,G as N,O as k,j as A,m as I,o as S,v as D}from"../chunks/vendor-a0e0cf93.js";import{g as V,m as P,L as Y,C as j,b as F,s as R,e as W,f as X,p as M,d as q}from"../chunks/Login-b59f4259.js";function C(e){let t,a,s,r,o,i,c,f,d,h,x,A,I,S,D,V;return{c(){t=u("div"),a=u("div"),s=u("div"),r=u("div"),o=u("div"),i=y("Overworld"),c=m(),f=u("div"),d=y("Nether"),h=m(),x=u("div"),A=y("End"),I=m(),S=u("canvas"),this.h()},l(e){t=g(e,"DIV",{class:!0});var l=$(t);a=g(l,"DIV",{class:!0});var u=$(a);s=g(u,"DIV",{class:!0});var y=$(s);r=g(y,"DIV",{class:!0});var m=$(r);o=g(m,"DIV",{class:!0});var v=$(o);i=p(v,"Overworld"),v.forEach(n),c=b(m),f=g(m,"DIV",{class:!0});var w=$(f);d=p(w,"Nether"),w.forEach(n),h=b(m),x=g(m,"DIV",{class:!0});var T=$(x);A=p(T,"End"),T.forEach(n),m.forEach(n),I=b(y),S=g(y,"CANVAS",{class:!0}),$(S).forEach(n),y.forEach(n),u.forEach(n),l.forEach(n),this.h()},h(){v(o,"class","text-gray-400 border-gray-400"),w(o,"border-b",0===e[2]),v(f,"class","text-gray-400 border-gray-400"),w(f,"border-b",1===e[2]),v(x,"class","text-gray-400 border-gray-400"),w(x,"border-b",2===e[2]),v(r,"class","w-full flex justify-around"),v(S,"class","w-full rounded m-10 h-[50rem] flex-col flex"),v(s,"class","w-2/3 flex-col flex"),v(a,"class","w-full flex justify-center"),v(t,"class","text-white p-5")},m(n,u){l(n,t,u),T(t,a),T(a,s),T(s,r),T(r,o),T(o,i),T(r,c),T(r,f),T(f,d),T(r,h),T(r,x),T(x,A),T(s,I),T(s,S),e[9](S),D||(V=[E(o,"click",e[6]),E(f,"click",e[7]),E(x,"click",e[8])],D=!0)},p(e,t){4&t&&w(o,"border-b",0===e[2]),4&t&&w(f,"border-b",1===e[2]),4&t&&w(x,"border-b",2===e[2])},i:N,o:N,d(a){a&&n(t),e[9](null),D=!1,k(V)}}}function L(e){let t,a;return t=new Y({}),{c(){A(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,s){S(t,e,s),a=!0},p:N,i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){r(t.$$.fragment,e),a=!1},d(e){D(t,e)}}}function O(e){let t,a;return t=new j({}),{c(){A(t.$$.fragment)},l(e){I(t.$$.fragment,e)},m(e,s){S(t,e,s),a=!0},p:N,i(e){a||(i(t.$$.fragment,e),a=!0)},o(e){r(t.$$.fragment,e),a=!1},d(e){D(t,e)}}}function H(e){let t,a,c,f;const h=[O,L,C],x=[];function u(e,t){return e[3]?e[1]?2:1:0}return t=u(e),a=x[t]=h[t](e),{c(){a.c(),c=s()},l(e){a.l(e),c=s()},m(e,a){x[t].m(e,a),l(e,c,a),f=!0},p(e,[s]){let l=t;t=u(e),t===l?x[t].p(e,s):(d(),r(x[l],1,1,(()=>{x[l]=null})),o(),a=x[t],a?a.p(e,s):(a=x[t]=h[t](e),a.c()),i(a,1),a.m(c.parentNode,c))},i(e){f||(i(a),f=!0)},o(e){r(a),f=!1},d(e){x[t].d(e),e&&n(c)}}}function z(e,t,a){let s,l,r,o,i,n,d;c(e,F,(e=>a(1,s=e))),c(e,R,(e=>a(4,l=e))),c(e,P,(e=>a(2,r=e))),c(e,W,(e=>a(5,o=e))),c(e,X,(e=>a(17,i=e))),c(e,M,(e=>a(18,n=e))),c(e,q,(e=>a(3,d=e)));let u={};f((()=>{V()}));let y,m,g={};const $={x:0,y:0,button:!1,wheel:0,lastX:0,lastY:0,drag:!1};let p=0,b=0;const v={x:0,y:0,scale:1,apply(){m.setTransform(this.scale,0,0,this.scale,this.x,this.y)},scaleAt(e,t,a){this.scale*=a,this.x=e-(e-this.x)*a,this.y=t-(t-this.y)*a},toWorld(e,t,a={x:NaN,y:NaN}){const s=1/this.scale;return a.x=(e-this.x)*s,a.y=(t-this.y)*s,a},toReal(e,t,a={x:NaN,y:NaN}){const s=1/this.scale;return a.x=e/s+this.x,a.y=t/s+this.y,a}};function w(e){if(y){const t=y.getBoundingClientRect();$.x=e.pageX-t.left-scrollX,$.y=e.pageY-t.top-scrollY,$.button="mousedown"===e.type||"mouseup"!==e.type&&$.button,"wheel"===e.type&&($.wheel+=-e.deltaY,e.preventDefault())}}function T(){if(y){if(m.setTransform(1,0,0,1,0,0),m.globalAlpha=1,y&&(p===y.clientWidth&&b===y.clientHeight||(p=a(0,y.width=y.clientWidth,y),b=a(0,y.height=y.clientHeight,y))),m.clearRect(0,0,p,b),0!==$.wheel){let e=1;e=$.wheel<0?1/1.02:1.02,$.wheel*=.8,Math.abs($.wheel)<1&&($.wheel=0),v.scaleAt($.x,$.y,e)}$.button?$.drag?(v.x+=$.x-$.lastX,v.y+=$.y-$.lastY,$.lastX=$.x,$.lastY=$.y):($.lastX=$.x,$.lastY=$.y,$.drag=!0):$.drag&&($.drag=!1),function(e=128){let t=1/v.scale,a=Math.pow(2,0|Math.log2(e*t)),s=Math.max(p,b)*t+2*a,l=((-v.x*t-a)/a|0)*a,r=((-v.y*t-a)/a|0)*a;v.apply(),m.lineWidth=1,m.strokeStyle="#aaa",m.beginPath();for(let o=0;o<s;o+=a)m.moveTo(l+o,r),m.lineTo(l+o,r+s),m.moveTo(l,r+o),m.lineTo(l+s,r+o);m.setTransform(1,0,0,1,0,0),m.stroke()}(128),function(){m.strokeStyle="blue";let{x:e,y:t}=v.toReal(0,0);m.beginPath(),m.moveTo(e-10,t),m.lineTo(e+10,t),m.moveTo(e,t-10),m.lineTo(e,t+10),m.stroke()}(),function(e,t){m.lineWidth=1,m.strokeStyle="red",m.beginPath(),m.fillStyle="red",m.setTransform(1,0,0,1,0,0),m.moveTo(e-15,t),m.lineTo(e+15,t),m.moveTo(e,t-15),m.lineTo(e,t+15),m.stroke(),m.font="14px Arial";const a=v.toWorld(e,t);m.fillText(`${a.x.toFixed(0)} ${a.y.toFixed(0)}`,e+5,t-5)}($.x,$.y),i[r].forEach((({x:e,z:t,type:a,name:s,id:l})=>{let r=v.toReal(e,t);m.fillStyle="#fff",m.font="14px Arial";let o=!1;if(u[a])try{m.drawImage(u[a],r.x-25,r.y-25,50,50),o=!0}catch(i){console.log("Error drawing image",i)}(v.scale>.5||!o)&&(g[a]?s?m.fillText(`${s} - ${g[a].name} (${l})`,r.x-25,r.y+35):m.fillText(`${g[a].name} (${l})`,r.x-25,r.y+40):s?m.fillText(`${s} (${l})`,r.x-25,r.y+35):m.fillText(`(${l})`,r.x-25,r.y+40),m.font="12px Arial",m.fillText(`${e} ${t}`,r.x-15,r.y+52))})),Object.entries(n).forEach((([e,{x:t,z:a,dimension:s}])=>{if(s!==r)return;let l=v.toReal(t,a);m.fillStyle="#fff",m.font="14px Arial",m.fillText(`${e} (${t.toFixed(0)}, ${a.toFixed(0)})`,l.x+10,l.y),m.fillStyle="yellow",m.beginPath(),m.arc(l.x,l.y,5,0,2*Math.PI),m.fill()}))}requestAnimationFrame(T)}return e.$$.update=()=>{22&e.$$.dirty&&s&&(l.requestPoints(r),l.requestTypes()),32&e.$$.dirty&&o.forEach((e=>{g[e.id]=e,e.image&&(u[e.id]=new Image,u[e.id].src=e.image)})),1&e.$$.dirty&&y&&null!==y&&(requestAnimationFrame(T),console.log(y),m=y.getContext("2d"),["mousedown","mouseup","mousemove"].forEach((e=>document.addEventListener(e,w))),document.addEventListener("wheel",w,{passive:!1}))},[y,s,r,d,l,o,()=>h(P,r=0,r),()=>h(P,r=1,r),()=>h(P,r=2,r),function(e){x[e?"unshift":"push"]((()=>{y=e,a(0,y)}))}]}export default class extends e{constructor(e){super(),t(this,e,z,H,a,{})}}
